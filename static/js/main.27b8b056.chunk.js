(this.webpackJsonpml5=this.webpackJsonpml5||[]).push([[0],{21:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c,r=n(1),i=n.n(r),s=n(15),a=n.n(s),o=(n(21),n(2)),u=n.n(o),l=n(5),f=n(3),j=n(16),b=n.n(j),d=n(0),h="https://teachablemachine.withgoogle.com/models/ntvbyZsmT/";function O(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)(h),i=Object(f.a)(n,2),s=i[0],a=i[1],o=Object(r.useState)([]),j=Object(f.a)(o,2),O=j[0],p=j[1],m=Object(r.useState)(!1),v=Object(f.a)(m,2),g=(v[0],v[1],Object(r.useState)(!0)),x=Object(f.a)(g,2),w=x[0],y=x[1],C=Object(r.useState)(!0),k=Object(f.a)(C,2),F=k[0],S=k[1];Object(r.useEffect)((function(){N(),""==s?a(h):c=b.a.imageClassifier(s,(function(){console.log("Image Model is Loaded"),console.log(s)}))}),[s]);var T,L=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.classify(t,(function(e,t){e?console.error(e):p(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){c&&(w?(e.current.srcObject||N(),T=setTimeout((function(){L(e.current)}),450)):(clearTimeout(T),R(),e.current.srcObject&&(e.current.srcObject=void 0)))}),[O,w]);var N=function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia({video:{facingMode:F?"environment":"user"}}).then((function(t){return e.current.srcObject=t})).catch(console.log);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(l.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.current.srcObject;case 3:return n=t.sent,t.next=6,n.getTracks().forEach((function(e){e.stop()}));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsx)("h1",{children:"Camera Classification"}),Object(d.jsx)("button",{type:"button",className:"btn btn-outline-success",onClick:function(){y((function(e){return!e}))},children:w?"File Classification":"Camera Classification"})]}),Object(d.jsx)("video",{ref:e,width:w?window.innerWidth:0,height:w?.75*window.innerHeight:0,autoPlay:!0,onClick:function(){w&&(R(),S((function(e){return!e})),N())}}),w?"":Object(d.jsx)("input",{type:"file",className:"btn btn-outline-success",onChange:function(e){try{var n=URL.createObjectURL(e.target.files[0]);t.current.src=n,L(t.current)}catch(e){console.error(e)}}}),Object(d.jsx)("img",{ref:t,width:w?0:.5*window.innerWidth,height:w?0:.5*window.innerHeight}),c&&O&&void 0!==O?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Result"}),O.map((function(e,t){return Object(d.jsxs)("p",{children:[e.label,Object(d.jsx)("div",{className:"progress",children:Object(d.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:170*e.confidence},"aria-valuenow":(100*e.confidence).toFixed(2),"aria-valuemin":"0","aria-valuemax":"100",children:[(100*e.confidence).toFixed(2),"%"]})})]},t)}))]}):Object(d.jsx)(d.Fragment,{children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14 ..."})]})}h+="model.json";var p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),p()}},[[42,1,2]]]);
//# sourceMappingURL=main.27b8b056.chunk.js.map